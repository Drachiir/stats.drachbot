<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/style.css">
    {% if og_data %}
        <meta property="og:title" content="{{ og_data["api_profile"]["playerName"] }}'s Drachbot Profile" />
        <meta property="og:description" content="{{ ("Rank #" + og_data["api_profile"]["rank"]|string + " Elo: " + og_data["api_profile"]["elo"]|string) if og_data["api_profile"]["rank"] else "" }}"/>
        <meta property="og:image" content="https://cdn.legiontd2.com/{{ og_data["api_profile"]["avatarUrl"] }}" />
    {% endif %}
</head>
<body style="
    background-color: #171717;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    height:100vh; /* use 100% of the height of the viewport */
    display:grid;
    place-items: center;">
    <div>
        <div style="padding-left: 80px"><div id="loading"></div></div>
        <div style="color: white; padding-top: 20px"><r>{% if text %}{{ text }}{% else %}Loading Data... This may take up to a minute{% endif %}</r></div>
    </div>
    <script>
        function applyBackground(url) {
            document.body.style.backgroundImage = `
                radial-gradient(circle, rgba(0,0,0,0.45) 0%, rgba(0,0,0,0.85) 100%),
                url("${url}")
              `;
        }

        const savedBackground = localStorage.getItem('backgroundImage');
        if (savedBackground) {
            applyBackground(savedBackground);
        }
    </script>
    <script> window.location.replace("{{ url|safe }}"); </script>
    <script src="/static/script.js"></script>
</body>
</html>